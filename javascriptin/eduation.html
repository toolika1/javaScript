<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
 <title>Population Based on Education Category</title>
 
  <link rel="stylesheet" type="text/css" href="./css/stylesheet.css">
  <h1 align="center">Graduate Population of India - State-wise & Gender-wise.</h1>
  
<style>

 body{
   background-color: rgb(200,200,200); ;
 }   
.arc text {
 font: 10px sans-serif;
 text-anchor: middle;
}

.arc path {
 stroke: #fff;
}

.legend {                                                  
       font-size: 12px;                                          
     }   
</style>
</head>
<body>
    <header>

      <nav>
        <ul>
          
          
          <li> <a href="line.html">Resources</a></li>
          <li> <a href="graduate.html">Explore The Collection</a></li>
          <li> <a href="eduation.html">Home</a></li>
        </ul>
      </nav>
    </header>
    
<script src="https://d3js.org/d3.v3.min.js" charset="utf-8">
 </script>
<script>

   var width = 960,
   height = 500,
   radius = Math.min(width, height) / 2;
   var legendRectSize = 18;                                  
   var legendSpacing = 4;    

var color = d3.scale.ordinal()
   .range(["#ff66cc ", "#ff9966 ", "#66ff33 ", "#6b486b ", "#a05d56 ", "#d0743c ", "#ff8c00 ","red","blue","pink"]);

var arc = d3.svg.arc()
   .outerRadius(radius - 10)
   .innerRadius(0);

var pie = d3.layout.pie()
   .value(function(d) { return d.population; });

var svg = d3.select("body").append("svg")
   .attr("width", width)
   .attr("height", height)
 .append("g")
   .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

d3.json("data/data3.json",function(error, data) {
 if (error) throw error;
 data.forEach(function (d) {
 d.population =+d.population;
 return d;
});


 var g = svg.selectAll(".arc")
     .data(pie(data))
   .enter().append("g")
     .attr("class", "arc");

 g.append("path")
     .attr("d", arc)
     .style("fill", function(d) { return color(d.data.catogories); });

var legend = svg.selectAll('.legend')                     
         .data(color.domain())                                   
         .enter()                                                
         .append('g')                                            
         .attr('class', 'legend')                                
         .attr('transform', function(d, i) {                     
           var height = legendRectSize + legendSpacing;          
           var offset =  height * color.domain().length / 2;     
           var horz = 14 * legendRectSize;                       
           var vert = i * height - offset;                       
           return 'translate(' + horz + ',' + vert + ')';        
         });  

       legend.append('rect')                                     
         .attr('width', legendRectSize)                          
         .attr('height', legendRectSize)                         
         .style('fill', color)                                   
         .style('stroke', color);                                
       legend.append('text')                                     
         .attr('x', legendRectSize + legendSpacing)              
         .attr('y', legendRectSize - legendSpacing)              
         .text(function(d) { return d; });                      

});


</script>
</body>
</html>